"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[7133],{3905:(e,t,a)=>{a.d(t,{Zo:()=>d,kt:()=>h});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function o(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},i=Object.keys(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var l=n.createContext({}),c=function(e){var t=n.useContext(l),a=t;return e&&(a="function"==typeof e?e(t):s(s({},t),e)),a},d=function(e){var t=c(e.components);return n.createElement(l.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},u=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,i=e.originalType,l=e.parentName,d=o(e,["components","mdxType","originalType","parentName"]),u=c(a),h=r,m=u["".concat(l,".").concat(h)]||u[h]||p[h]||i;return a?n.createElement(m,s(s({ref:t},d),{},{components:a})):n.createElement(m,s({ref:t},d))}));function h(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var i=a.length,s=new Array(i);s[0]=u;var o={};for(var l in t)hasOwnProperty.call(t,l)&&(o[l]=t[l]);o.originalType=e,o.mdxType="string"==typeof e?e:r,s[1]=o;for(var c=2;c<i;c++)s[c]=a[c];return n.createElement.apply(null,s)}return n.createElement.apply(null,a)}u.displayName="MDXCreateElement"},6333:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>l,contentTitle:()=>s,default:()=>p,frontMatter:()=>i,metadata:()=>o,toc:()=>c});var n=a(7462),r=(a(7294),a(3905));const i={sidebar_position:1},s="Pitfalls, Risks & Limitations",o={unversionedId:"pitfalls",id:"pitfalls",title:"Pitfalls, Risks & Limitations",description:"Pitfalls",source:"@site/docs/pitfalls.md",sourceDirName:".",slug:"/pitfalls",permalink:"/carp/docs/pitfalls",draft:!1,editUrl:"https://github.com/dcSpark/carp/docs/pitfalls.md",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Carp (Cardano Postgres Indexer)",permalink:"/carp/docs/intro"},next:{title:"Carp vs alternatives",permalink:"/carp/docs/comparison"}},l={},c=[{value:"Pitfalls",id:"pitfalls",level:2},{value:"Limitations",id:"limitations",level:2},{value:"Risks with using this codebase:",id:"risks-with-using-this-codebase",level:2}],d={toc:c};function p(e){let{components:t,...a}=e;return(0,r.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"pitfalls-risks--limitations"},"Pitfalls, Risks & Limitations"),(0,r.kt)("h2",{id:"pitfalls"},"Pitfalls"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"During the Byron era, Cardano had a feature where users could add custom metadata into the addresses themselves. The size of this metadata was for some time uncapped, so some addresses that were created on-chain are thousands of characters long (notably, they are larger than the max indexed row size). To tackle this, we truncate these addresses to 500 bytes (which means they won't be parsable as valid Cardano addresses)"),(0,r.kt)("li",{parentName:"ul"},"Some on-chain Shelley addresses are incorrect (a similar bug to the one mentioned above)"),(0,r.kt)("li",{parentName:"ul"},"Genesis block in general breaks a lot of assumptions you may have. For example",(0,r.kt)("ul",{parentName:"li"},(0,r.kt)("li",{parentName:"ul"},"Transactions are not ordered"),(0,r.kt)("li",{parentName:"ul"},"Transactions don't contain any transaction body. Instead, the address is the transaction in a sense and the transaction hash is just the has of the address."))),(0,r.kt)("li",{parentName:"ul"},"We store StakeCredentials and not key hashes. StakeCredentials are defined in the Cardano CDDL as a hash and a tag that defines what kind of hash it is (ex: key hash or script hash)"),(0,r.kt)("li",{parentName:"ul"},"Transactions can fail on-chain in Cardano. Whether or not the transaction was valid is stored in the Transaction table. The TransactionInput table contains the input which was consumed (which depends on whether or not the transaction failed)"),(0,r.kt)("li",{parentName:"ul"},"Transaction metadata labels are stored as a byte array because u64 is ",(0,r.kt)("a",{parentName:"li",href:"https://github.com/launchbadge/sqlx/issues/1374"},"not supported in sqlx"))),(0,r.kt)("h2",{id:"limitations"},"Limitations"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},"Project does not currently store any off-chain information"),(0,r.kt)("li",{parentName:"ul"},"Project does not store ledger state (ex: reward history)"),(0,r.kt)("li",{parentName:"ul"},"Only provides CBOR and not parsed data (so this project isn't useful for languages that don't have a good implementation of Cardano's binary specification)")),(0,r.kt)("h2",{id:"risks-with-using-this-codebase"},"Risks with using this codebase:"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Missing functionality in binary data parsing libraries"),": This codebase parses raw CBOR (binary data) from the Cardano blockchain using CML. It has happened in the past that the library is missing some feature of the Cardano blockchain which could cause Carp to fail if these ever appear on-chain."),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("strong",{parentName:"li"},"Cardano ledger bugs")," (yes, this happens): There has been multiple occasions where the Cardano node itself has a bug in it causing the data generated not to be parsable by CML until patched.")))}p.isMDXComponent=!0}}]);