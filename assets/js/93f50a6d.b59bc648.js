"use strict";(self.webpackChunkmy_website=self.webpackChunkmy_website||[]).push([[4386],{8837:(e,t,a)=>{a.r(t),a.d(t,{assets:()=>d,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>l,toc:()=>c});var r=a(7462),n=(a(7294),a(3905)),i=a(814);const s={sidebar_position:6},o="SQL Format",l={unversionedId:"indexer/sql",id:"indexer/sql",title:"SQL Format",description:"Although Carp comes with a webserver and client, users may want to run their own SQL queries.",source:"@site/docs/indexer/sql.mdx",sourceDirName:"indexer",slug:"/indexer/sql",permalink:"/carp/docs/indexer/sql",draft:!1,editUrl:"https://github.com/dcSpark/carp/docs/indexer/sql.mdx",tags:[],version:"current",sidebarPosition:6,frontMatter:{sidebar_position:6},sidebar:"tutorialSidebar",previous:{title:"Adding your own task",permalink:"/carp/docs/indexer/add_task"},next:{title:"Starting Carp in container",permalink:"/carp/docs/indexer/docker"}},d={},c=[],m={toc:c};function p(e){let{components:t,...s}=e;return(0,n.kt)("wrapper",(0,r.Z)({},m,s,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"sql-format"},"SQL Format"),(0,n.kt)("p",null,"Although Carp comes with a webserver and client, users may want to run their own SQL queries."),(0,n.kt)("p",null,"Here is the table format used by Carp"),(0,n.kt)("p",null,(0,n.kt)("img",{alt:"schema",src:a(8682).Z,width:"2855",height:"1831"})),(0,n.kt)("p",null,"More concretely, the full SQL schema can be seen below"),(0,n.kt)(i.Z,{language:"sql",title:"schema.sql",showLineNumbers:!0,mdxType:"CodeBlock"},""),(0,n.kt)("p",null,"Since Carp contains a lot of binary data, here is a cheatsheet for some common queries:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"Exact match binary data using ",(0,n.kt)("inlineCode",{parentName:"li"},"WHERE \"Transaction\".hash = '\\x18565ab3c960c000531e5b359432397907d663c0ac5f5dbae80e1bf88d25c8a0'")),(0,n.kt)("li",{parentName:"ol"},"Wildcard match binary data using SQL commands such as ",(0,n.kt)("inlineCode",{parentName:"li"},"like '\\x8200'::bytea || '%'")),(0,n.kt)("li",{parentName:"ol"},"Match a list of options using ",(0,n.kt)("inlineCode",{parentName:"li"},"\"StakeCredential\".credential = ANY(array['\\x8200581c8baf48931c5187cd59fde553f4e7da2e1a2aa9202ec6e67815cb3f8a']::bytea array)"))))}p.isMDXComponent=!0},8682:(e,t,a)=>{a.d(t,{Z:()=>r});const r=a.p+"assets/images/sql-graph-673805011ed632df1cfd568c975a4dbb.svg"}}]);